(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1892:function(e,t,a){Promise.resolve().then(a.bind(a,3965))},3965:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var i=a(7437),l=a(6691),n=a.n(l),r=a(2265),s=a(1739),o=a.n(s),c=JSON.parse('{"a":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}');let d=e=>{let t=parseInt(e),a=[t%10,t%100];return[1,2,3,4].includes(a[0])&&![11,12,13,14,15,16,17,18,19].includes(a[1])?["st","nd","rd","th"][a[0]-1]:"th"};async function u(e){if(!e||e.length<2)return;let t="Forecast for Location not Found",a=await fetch("https://geocode.xyz/".concat(encodeURIComponent(e),"?region='US'&json=1")),{latt:i,longt:l}=await a.json();if(isNaN(i)||isNaN(l))return{error:t};let n=await fetch("https://api.weather.gov/points/".concat(i,",").concat(l)),r=await n.json();if(!(null==r?void 0:r.properties))return{error:t};let{properties:{forecast:s,relativeLocation:{properties:o}}}=r;if(!s)return{error:t};let c=await fetch(s),d=await c.json();if(!d)return{error:t};let{properties:u}=d;return u?{forecast:u,location:o}:{error:t}}function v(){var e,t,a,l,s,v;let[h,p]=(0,r.useState)(""),[m,f]=(0,r.useState)(""),[x,j]=(0,r.useState)(!1),[N,y]=(0,r.useState)(null),w=(0,r.useCallback)(o()(async e=>{j(!0);let t=await u(e);(null==t?void 0:t.error)?f(t.error):t&&(f(""),y(t)),j(!1)},1200),[]);async function g(e){p(e.target.value),w(e.target.value)}(0,r.useEffect)(()=>{let e="66044";p(e),w(e)},[w]);let b=(null==N?void 0:N.location)?"".concat(null==N?void 0:null===(e=N.location)||void 0===e?void 0:e.city,", ").concat(null==N?void 0:null===(t=N.location)||void 0===t?void 0:t.state):"",S=(null==N?void 0:null===(a=N.forecast)||void 0===a?void 0:a.updateTime)&&new Date(null==N?void 0:null===(l=N.forecast)||void 0===l?void 0:l.updateTime),F=S&&"updated ".concat(S.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})),T=null==N?void 0:null===(s=N.forecast)||void 0===s?void 0:s.periods[0],k=null==N?void 0:null===(v=N.forecast)||void 0===v?void 0:v.periods.slice(1);return(0,i.jsxs)("main",{className:"container",children:[(0,i.jsxs)("div",{className:"header",children:[(0,i.jsx)("div",{className:"header-label",children:"US Weather"}),(0,i.jsx)("div",{className:"control-wrapper",children:(0,i.jsx)("input",{className:"control",value:h,onChange:g,type:"text",placeholder:"Enter Zipcode, City, or State"})})]}),(0,i.jsx)("div",{className:x?"content":"hidden",children:"Loading..."}),(0,i.jsx)("div",{role:"alert",className:!m||x?"hidden":"relative block w-full p-4 mb-4 text-base leading-5 text-white bg-red-500 font-regular",children:m}),(0,i.jsxs)("div",{className:!T||x||m?"hidden":"",children:[(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("div",{className:"icon-wrapper",children:(null==T?void 0:T.icon)&&(0,i.jsx)(n(),{className:"rounded-full",src:null==T?void 0:T.icon,alt:null==T?void 0:T.shortForecast,width:180,height:180,priority:!0})}),(0,i.jsxs)("div",{className:"current-wrapper",children:[(0,i.jsx)("div",{className:"location",children:b}),(0,i.jsxs)("div",{className:"temp",children:["".concat(null==T?void 0:T.temperature),"\xb0"]}),(0,i.jsx)("div",{className:"short-forecast",children:null==T?void 0:T.shortForecast}),(0,i.jsx)("div",{className:"update-time",children:F})]})]}),(0,i.jsx)("div",{className:"detail-forecast",children:null==T?void 0:T.detailedForecast}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"daily-forecast-label",children:"Extended Forecast"}),(0,i.jsx)("div",{className:"daily-forecast-content",children:null==k?void 0:k.map(e=>{let t=(null==e?void 0:e.startTime)&&new Date(null==e?void 0:e.startTime);t&&c.a[t.getDay(t)];let a=t&&"".concat(t.getDate(t)),l=t&&"".concat(d(a));return(0,i.jsxs)("div",{className:"daily-forecast-item",children:[(0,i.jsxs)("p",{children:[a,(0,i.jsx)("small",{children:l})]}),(0,i.jsx)("p",{children:null==e?void 0:e.name}),(null==e?void 0:e.icon)&&(0,i.jsx)(n(),{className:"daily-forecast-icon",src:null==e?void 0:e.icon,alt:null==e?void 0:e.shortForecast,width:90,height:90,priority:!0}),(0,i.jsxs)("div",{className:"daily-forecast-temp",children:["".concat(null==e?void 0:e.temperature),"\xb0"]}),null==e?void 0:e.shortForecast]},e.number)})})]})]})}}},function(e){e.O(0,[834,971,472,744],function(){return e(e.s=1892)}),_N_E=e.O()}]);