(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1892:function(e,t,a){Promise.resolve().then(a.bind(a,3965))},3965:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var l=a(7437),i=a(6691),r=a.n(i),n=a(2265),s=a(1739),o=a.n(s),c=JSON.parse('{"a":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}');let d=e=>{let t=parseInt(e),a=[t%10,t%100];return[1,2,3,4].includes(a[0])&&![11,12,13,14,15,16,17,18,19].includes(a[1])?["st","nd","rd","th"][a[0]-1]:"th"};async function u(e){if(!e||e.length<2)return;let t="Forecast for Location not Found",a=await fetch("https://geocode.xyz/".concat(encodeURIComponent(e),"?region='US'&json=1")),{latt:l,longt:i}=await a.json();if(isNaN(l)||isNaN(i))return{error:t};let r=await fetch("https://api.weather.gov/points/".concat(l,",").concat(i)),n=await r.json();if(!(null==n?void 0:n.properties))return{error:t};let{properties:{forecast:s,relativeLocation:{properties:o}}}=n;if(!s)return{error:t};let c=await fetch(s),d=await c.json();if(!d)return{error:t};let{properties:u}=d;return u?{forecast:u,location:o}:{error:t}}function v(){var e,t,a,i,s,v;let[h,p]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[x,j]=(0,n.useState)(!1),[N,y]=(0,n.useState)(null),w=(0,n.useCallback)(o()(async e=>{j(!0);let t=await u(e);(null==t?void 0:t.error)?f(t.error):t&&(f(""),y(t)),j(!1)},1200),[]);async function b(e){p(e.target.value),w(e.target.value)}(0,n.useEffect)(()=>{let e="66044";p(e),w(e)},[w]);let g=(null==N?void 0:N.location)?"".concat(null==N?void 0:null===(e=N.location)||void 0===e?void 0:e.city,", ").concat(null==N?void 0:null===(t=N.location)||void 0===t?void 0:t.state):"",S=(null==N?void 0:null===(a=N.forecast)||void 0===a?void 0:a.updateTime)&&new Date(null==N?void 0:null===(i=N.forecast)||void 0===i?void 0:i.updateTime),k=S&&"updated ".concat(S.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})),F=null==N?void 0:null===(s=N.forecast)||void 0===s?void 0:s.periods[0],T=null==N?void 0:null===(v=N.forecast)||void 0===v?void 0:v.periods.slice(1);return(0,l.jsxs)("main",{className:"container",children:[(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)("div",{className:"header-label",children:"US Weather"}),(0,l.jsx)("div",{className:"control-wrapper",children:(0,l.jsx)("input",{className:"control",value:h,onChange:b,type:"text",placeholder:"Enter Zipcode, City, or State"})}),(0,l.jsxs)("div",{className:"link-back",children:[(0,l.jsx)("a",{href:"https://bobpalmer.info/",target:"_blank",rel:"noreferrer",children:"...back to bobpalmer.info"}),"."]})]}),(0,l.jsx)("div",{className:x?"content":"hidden",children:"Loading..."}),(0,l.jsx)("div",{role:"alert",className:!m||x?"hidden":"relative block w-full p-4 mb-4 text-base leading-5 text-white bg-red-500 font-regular",children:m}),(0,l.jsxs)("div",{className:!F||x||m?"hidden":"",children:[(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)("div",{className:"icon-wrapper",children:(null==F?void 0:F.icon)&&(0,l.jsx)(r(),{className:"rounded-full",src:null==F?void 0:F.icon,alt:null==F?void 0:F.shortForecast,width:180,height:180,priority:!0})}),(0,l.jsxs)("div",{className:"current-wrapper",children:[(0,l.jsx)("div",{className:"location",children:g}),(0,l.jsxs)("div",{className:"temp",children:["".concat(null==F?void 0:F.temperature),"\xb0"]}),(0,l.jsx)("div",{className:"short-forecast",children:null==F?void 0:F.shortForecast}),(0,l.jsx)("div",{className:"update-time",children:k})]})]}),(0,l.jsx)("div",{className:"detail-forecast",children:null==F?void 0:F.detailedForecast}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"daily-forecast-label",children:"Extended Forecast"}),(0,l.jsx)("div",{className:"daily-forecast-content",children:null==T?void 0:T.map(e=>{let t=(null==e?void 0:e.startTime)&&new Date(null==e?void 0:e.startTime);t&&c.a[t.getDay(t)];let a=t&&"".concat(t.getDate(t)),i=t&&"".concat(d(a));return(0,l.jsxs)("div",{className:"daily-forecast-item",children:[(0,l.jsxs)("p",{children:[a,(0,l.jsx)("small",{children:i})]}),(0,l.jsx)("p",{children:null==e?void 0:e.name}),(null==e?void 0:e.icon)&&(0,l.jsx)(r(),{className:"daily-forecast-icon",src:null==e?void 0:e.icon,alt:null==e?void 0:e.shortForecast,width:90,height:90,priority:!0}),(0,l.jsxs)("div",{className:"daily-forecast-temp",children:["".concat(null==e?void 0:e.temperature),"\xb0"]}),null==e?void 0:e.shortForecast]},e.number)})})]})]})}}},function(e){e.O(0,[834,971,472,744],function(){return e(e.s=1892)}),_N_E=e.O()}]);